<!DOCTYPE html>
<!-- consp11.github.io fdsc  https://consp11.github.io/  -->

<html>
<head>
<title>Перезатирание флеш-памяти</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<link rel="canonical" href="https://consp11.github.io/main/6-flash.html"/>
<meta name="Description" content="Уничтожение данных на флеш-накопителях и SSD"/>
<meta name="keywords" content="уничтожение флешек, уничтожение данных на SSD">


</head>
<body style="white-space: pre-wrap; font-size: 26px">

<a href="../index.html">На главную</a>

<h1>Перезатирание флеш-памяти</h1>

Сразу скажу, что флеш-память очень сложно зачищается и уничтожается. Поэтому, она всегда должна быть зашифрована.

Размер зашифрованных файлов на флешке, если она не зашифрована целиком, должен быть изменён (шифруйте архивы с мусорными файлами). Иначе по размеру файлов иногда можно понять, какой именно документ вы зашифровали: большинство программ шифруют файлы так, что если их зашифровать разными ключами, размер всё равно получится одинаковым. Поэтому если у злоумышленника уже есть расшифрованный файл, то он сможет понять, что у вас зашифрован именно он. Иногда этого может хватить для доставления вам больших проблем.

<hr>
Физическое уничтожение специальным шрёдером

Выше уже писалось о том, что шрёдеры используются для уничтожения бумаги.
Обычно, они не позволяют уничтожать флеш-память. Но есть и исключения.
Некоторые специальные шрёдеры имеют разъёмы для флешек. Причём, уничтожение идёт на такие же мелкие кусочки, как и для бумаги. Этот способ вряд ли позволит кому-то восстановить данные на флеш-памяти.

Нужно лишь проверить, что ваша флешка влазит в такое устройство, так как проёмы таких устройств для флеш-памяти не очень большие.

Если необходимо уничтожить отпечатки пальцев с флешки, возможно, перед размолом её стоит двукратно помыть мылом или протереть спиртовой салфеткой, либо после уничтожения бросить размолотую флешку в "Крот" (едкий натр) или ещё какой-нибудь агрессивный к органике растворитель.

<hr>
Использование специальных устройств

Создание или покупка устройств, которые имеют встроенные от производителя механизмы перезатирания данных.

Этот способ плох тем, что вы вынуждены доверять производителю. А производитель нередко делает ошибки при разработке устройств, так как что данные могут быть не уничтожены.


В идеале, такое устройство должно шифровать всю информацию в памяти (можно прозрачно для пользователя, без паролей и т.п.) и там же хранить встроенный ключ шифрования.
При нажатии на кнопку на таком устройстве (либо если устройство имеет аккумулятор, либо при подключении к USB-порту) устройство должно программным способом:
1. Уничтожить ячейки памяти, в которых хранится ключ шифрования
2. Перезатереть остальные ячейки памяти

При этом устройство не должно терять работоспособности.


Однако, почему-то, такие устройства проектируются и производятся лишь на заказ. Серийные флешки с возможностью самоуничтожения этих простых операций не делают.
Да и, ещё раз повторюсь, вопрос ещё и в доверии к производителю, что он действительно уничтожил все данные.


Уничтожение отпечатков пальцев, видимо, можно производить путём двукратного мытья мылом или вытирания спиртовой салфеткой. На всякий случай, можно сделать и то, и то: для более тщательного удаления генетического материала, который мог остаться от отпечатков пальцев.

В принципе, это же верно и для других способов уничтожения флеш-памяти.

<hr>
Физическое разламывание флеш-памяти

Разламывание руками на две части флеш-памяти, возможно, хороший способ для тонкой (в смысле физической толщины) памяти. Однако, сложно точно сказать, возможно ли после этого восстановить данные при большом желании или нет.

Плюс к этому, это должна быть именно тонкая пластина памяти, которая ломается руками. Для неё нужны специальные считыватели, она может повредится при неосторожном ношении.


<hr>
Физическое размалывание флеш-памяти

Измельчение молотком.

В принципе, способ действенный, однако такое измельчение долго, требует инструмента (на котором будет лежать разбиваемая флешка) и травмоопасен: осколки могут отлететь куда-либо.

Измельчение ножом с помощью снятия стружки кажется очень трудоёмким способом: корпус микросхемы не такой уж и мягкий. Возможно, тут нужны только тонкие накопители, не USB-флешки.

В принципе, для большого количества мелких частей, можно говорить о том, что данные вряд ли будут восстановлены, учитывая также физическое разрушение микросхемы.


<hr>
Уничтожение флеш-памяти и иных устройств в микроволновой печи (опасно для печи)

Помещение в флеш-памяти в микроволновую печь на 10-20 секунд полной мощности может вывести её из строя.

Возможность использования микроволновой печи, после этого, в пищевых целях неясна. Теоретически, возможно повреждение микроволновой печи.

Инструкция
1. Проверить, что флешка работает. На всякий случай перезатереть данные обычным перезатиранием всей флешки дважды, если есть такая возможность
2. Если флешка в металлическом корпусе, освободить её от металлического корпуса. Если есть возможность, освободить от любого корпуса.
3. Открыть окно для проветривания помещения
4. Набрать полный стакан холодной воды
5. Поставить стакан воды в микроволновку
6. Положить флешку на любую неметаллическую тарелку (которую нежалко), пригодную для разогрева, и поставить её в микроволновку.
7. Включить на максимальную мощность на 10 секунд.
8. Проверить, что флешка вышла из строя (что нечитается на компьютере).
9. Если флешка вышла из строя, то N = 10 с.
10. Если флешка не вышла из строя, повторить процедуру на N = 20 секунд с новым стаканом холодной воды (чтобы не обжечься).
11. Если флешка не вышла из строя за N = 20 с, то процедура неэффективна. Уничтожить носитель иным способом.
12. Если флешка вышла из строя, то повторить процедуру (для гарантии):
1) Если N = 10, то выдержать ещё 20 секунд
2) Если N = 20, то выдержать ещё два раза по 20 секунд или один раз 40 секунд (возможно, потребуется больше стаканов воды).

Помните, что данный способ не слишком подходит для уничтожения в критической ситуации (при обыске, налёте бандитов и т.п.) по следующим причинам:
1. Если вы ещё не пробовали уничтожать флешки именно такого типа именно в этой микроволновке, вы не знаете, получится или нет
2. Микроволновка может испортится и когда надо будет уничтожать данные просто не будет работать.
3. У вас могут отключить электроэнергию перед обыском. Проверьте, что источник бесперебойного питания может обслуживать микроволновую печь.


Кроме этого, даже при небольшом нагреве, пластик флеш-памяти будет выделять газы, вредные для здоровья. Так что не вдыхайте, когда будете вынимать флешки.


<hr>
Уничтожение флеш-памяти огнём

Уничтожение микросхемы достигается при температуре не ниже 500 градусов цельсия.
В принципе, можно пробовать нагревать на гелях на основе изопропилового спирта или ещё чём-то подобном, однако достижение заданной температуры недоказуемо.

Кроме этого, сохраняются проблемы с выделением токсичных газов. Здесь они гораздо хуже, чем в варианте с микроволновкой.


<hr>
Уничтожение памяти огнём от охотничьих спичек (сомнительный)

Любительский способ предполагает извлечение микросхемы из корпуса.
Далее плата обкладывается охотничьими спичками, которые привязываются для прочности нитью.
После этого всё это заворачивается в толстую фольгу или несколько слоёв тонкой фольги (получается корпус из фольги цилиндрической формы).
На открытом воздухе, спички поджигаются. Фольга играет роль духовки, в которой запекается схема.

Предварительно необходимо проверить, что спички из этого коробка горят не менее 20-ти секунд на открытом воздухе.

Способ сомнительный, т.к. не обеспечивает достаточно хорошего прогревания схемы.


<hr>
Сжигание в термитной смеси

Помещение в огонь термитной смести (есть смеси строительного назначения) должно расплавить карту памяти.
Однако, технология данного процесса не ясна. Термит горит при температурах свыше 2000 градусов (2800, например) и может расплавить даже пол (если много поджечь). Так что лучше уничтожать на асбестовом противопожарном полотне или чём-либо достаточно тугоплавком.


<hr>
Сжигание в огне газовой горелки

Теоретически, газовой горелкой (для резки металла) можно попытаться если не расплавить, то хотя бы вывести из строя флеш-память.


<hr>
Подача напряжения на контакты

Подача напряжения 9-12 вольт или выше на разные сочетания контактов в течении 30-60 секунд. Желательно, чтобы напряжение было разнополярным (то есть минус 12 и плюс 12).
Такая подача сопровождается чувствительным на ощупь нагреванием схемы и, видимо, пробоем чувствительных электрических элементов.

В идеале, нужно избавить устройство от корпуса и подавать напряжения ещё и на ножки микросхем. Т.к. может быть такая ситуация, что микросхема контроллера сгорит, а микросхема памяти - нет.
Флешка будет выглядеть неработающей, но данные с неё можно будет восстановить в лаборатории.

<hr>
Уничтожение через ATA-команду "ERASE UNIT ENH" (плохой способ).

Эта команда специальна создана для полного программного уничтожения данных на SSD, но требует специального программного обеспечения.
Кроме этого, такая команда может либо не поддерживаться диском, либо формально поддерживаться, но не уничтожать данные.

Если у вас есть нужно ПО (у меня нет), вы можете попробовать его использовать как дополнительный способ перезатирания (в случае, если он работает, он даёт очень хороший эффект; однако как вы узнаете, реализован ли правильно механизм перезатирания информации производителем или нет? По исследованиям порядка 50% устройств реализуют эти команды некорректно, вплоть до полного отсутствия перезатирания).
К USB устройствам такие команды не подходят.

Проблема этой команды, даже если она работает верно, ещё и в том, что уничтожение данных осуществляется очень долго: речь может идти о 3-5 днях на перезатирание всего диска. А перезатирать надо всегда именно весь диск, даже если вам нужно удалить только один файл.

<hr>
Перезатирание файла (очень плохой способ)

Когда мы работаем с жёсткими дисками, запись случайного содержимого поверх уничтожаемого файла является эффективной мерой (хотя тоже бывают исключения). Конечно, если до этого не была проведена дефрагментация (тогда отрезки файла могли остаться где-то на диске, хотя вероятность мала) или диск не использовал резервные сектора вместо повреждённых.

Однако, когда мы работаем с флеш-памятью (в том числе, с жёсткими дисками с кешами с SSD), то перезатирание не даёт нужного эффекта. Почему?

Как известно, SSD диски (и флешки) имеют ячейки памяти с ограниченным количеством перезаписи информации. Поэтому внутренние алгоритмы SSD пытаются распределить запись информации более равномерно.
Это означает, что запись в тот же самый логический сектор диска может быть перераспределена микроконтроллером управления в другую физическую ячейку памяти.

Таким образом, теоретически, всё содержимое файла может остаться на флешке. Специалист, способный обратиться напрямую к памяти устройства, минуя микроконтроллер памяти, способен считать такую информацию.

Хуже всего то, что если мы будем проверять такую флешку/SSD на наличие на ней информации логически, без электрического подключения к модулю памяти (надо разобрать флешку), то мы не сможем установить факт наличия на ней данных. Нам будет казаться, что данных нет.

В этом есть и плюс. Чем меньше размер флешки, тем тяжелее подключиться непосредственно к контактам микросхемы памяти. В некоторых совсем маленьких флешках (квадратной формы, фактически, если не считать USB-разъёма; хотя бывают и большие) микроконтроллер может быть зашит в той же микросхеме, что и сама память (чип монолитного типа). Из такой флешки достать информацию будет гораздо тяжелее, однако при наличии оборудования и это можно сделать.

Так что этот способ можно использовать только как дополнительный. Например, когда нет возможности уничтожить носитель другим способом, можно временно хотя бы перезатереть файл. На таком носителе лучше поставить метку, чтобы не забыть, что его нужно перезатереть. Например, это может быть файл в главной директории. Но лучше, если его название не будет выдавать то, что флешку нужно перезатереть.

<hr>
Перезатирание всей флешки два раза (не самый надёжный способ)

Можно заполнить флешку целиком файлами с помощью специальной программы (я не даю на неё ссылку, так как у меня своя собственная).

Если потом ещё и перезатереть эти файлы хотя бы 2 раза, то с неопределённой вероятностью мы перезатрём информацию.
Однако этот способ тоже не гарантирует полного перезатирания всех ячеек памяти, так как их, физически, всегда больше, чем доступно логически и нет никакой гарантии, что мы записали информацию в каждую из них хотя бы один раз.
То есть часть информации будет перезатёрта, а часть может остаться. Учитывая, что иногда речь идёт о файлах буквально на 1-2 килобайта, он может восстановится целиком.


В любом случае, перезатирание должно происходить не шаблоном, а случайными криптостойкими данными. Иначе SSD ещё может и сжать информацию, вообще записав её в меньшее количество ячеек, чем мы думаем. Методы типа Гутмана (перезапись шаблоном), перезатирание нулями или иные могут не подходить, если SSD использует сжатие.

Таким образом, использовать данный метод можно только когда нет других вариантов, как вспомогательный или в качестве дополнительной страховки.


Если информация на флешке была шифрованной методами со сцеплением блоков (CBC (режим сцепления блоков), CFB (гаммирование с обратной связью), OFB ), то перезатирание может дать хороший эффект в том случае, если информации достаточно много (сотни килобайтов минимум в одном файле).
В таком случае, даже зная пароль, расшифровать информацию будет очень трудно. Недостаток одного блока информации сильно затруднит или сделает невозможным восстановление последующих блоков. Режимы CTR (гаммирование) и GCM такими свойствами не обладают.

Также, застеганографированные данные и данные, зашифрованные MultiObfuscator с максимальным уровнем шума, будут более устойчивы, так как у них также информация распределена по большему объёму данных.

Поэтому, для уничтожения шифрованных и зашумлённых данных такой способ подходит несколько больше. В любом случае, флеш-память должна быть перезаписана минимум 2 раза полностью. То есть с неё логически удаляется вся информация, потом идёт создание большого количества файлов специальной программой с перезаписью.

Но, ещё раз повторюсь, метод без гарантий даже в таком случае.

Его можно использовать как дополнительный способ перед уничтожением данных иным способом либо как метод предварительной очистки перед использованием.

P.S. Учтите, что если вы используете не специальную программу, а просто набор больших фалов, то вероятность того, что остались неперезатёртые блоки увеличивается. В таком случае, не удаляя большие файлы, нужно заполнить диск до отказа маленькими файлами. Когда уже совсем не будет места, надо создавать пустые текстовые файлы с короткими названиями (например "a.txt" или даже просто "a"): если файл всё ещё создаётся, значит на диске ещё есть место для перезатирания.


<hr>
Уничтожение данных в электромагнитных средствах для уничтожения жёстких дисков (HDD)

Не работает в принципе, так как твердотельные накопители устойчивы к таким воздействиям.

Однако, бывают специальные устройства, уничтожающие информацию (точнее устройства) наведёнными разрядами (что-то типа молний). В этом случае, возможно, устройство может быть выведено из строя (нужно проверять работоспособность на тестовом флеш-накопителе).

<hr>
Смывание в унитаз (очень плохо)

Флеш-память может за счёт своего веса и маленьких размеров плохо смыться и остаться внутри унитаза, откуда будет извлечена криминалистами. Кроме этого, спуск воды в унитазе может быть хорошо слышен с лестничной площадки или ещё откуда-то, где могут находится коррумпированные сотрудники органов, следящие за вами.

Также никто не гарантирует, что флешку не найдут в канализации (хотя это должно быть тяжело), даже если вдруг она каким-то чудом пройдёт в унитазе.


Такой метод уничтожения может быть только если нет вообще ничего другого. Плюс, нужно понимать, что если вы выбросили туда флешку, вы, возможно, уже не сможете достать её назад и уничтожить нормально, поэтому всегда будет неуверенность в том, попала она к противнику или нет.

<hr>

<a href=./6-flashreq.html>Флешки для обмена</a>.

</body>
</html>
